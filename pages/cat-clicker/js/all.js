"use strict";var model={currentCat:null,cats:[{clickCntr:0,name:"",imgSrc:"image-1",imgAttribution:"https://www.flickr.com/photos/poplinre/625069434/in/photostream/"},{clickCntr:0,name:"",imgSrc:"image-2",imgAttribution:"https://www.flickr.com/photos/chewie/2290467335"},{clickCntr:0,name:"",imgSrc:"image-3",imgAttribution:"https://www.flickr.com/photos/dmzhuk1/13336297525/"},{clickCntr:0,name:"",imgSrc:"image-4",imgAttribution:"https://www.flickr.com/photos/haituoi/12174748174/"},{clickCntr:0,name:"",imgSrc:"image-5",imgAttribution:"https://www.flickr.com/photos/crerwin/1090235720/in/photolist-fpoqBx-2EkK6A-jd89Zh-oXYAc3-rbR7a7-eQyQ9s-pNfUb3-f8Lzve-7wUUmJ-neyNMh-fF1SNo-guvpL7-djzdoC-rRUeFg-dwECB4-byETEf-96GXNo-nD8t86-i3Px3A-eSjzEX-e8hn6f-u4ANKb-aj5nzB-bCywUs-7CnHSG-amRMr6-gsgu54-sBnYXd-doMGnr-rjNQrb-7xQDb4-e5tZLn-swMbdu-aVfJNM-bwJzGz-f3mWZv-qAudKg-76Vzfm-kb2n93-4BignY-96GXk5-hoYTLY-pLcapW-r6ud1t-qd3RjQ-4rPruQ-nF4Ynj-9oXBFj-5hJtCy-fJ6ud6"},{clickCntr:0,name:"",imgSrc:"image-6",imgAttribution:"https://www.flickr.com/photos/jetske"},{clickCntr:0,name:"",imgSrc:"image-7",imgAttribution:"https://www.flickr.com/photos/8494589@N06/2177097057"},{clickCntr:0,name:"",imgSrc:"image-8",imgAttribution:"https://www.flickr.com/photos/deerwooduk/579761138"}],catNames:["Whiskers","Buttons","Mr. Wilkinson","James Bond","Ms. Patterson","Kronk","Titan","Tims Pennyworth"],catImgs:["image-1","image-2","image-3","image-4","image-5","image-6","image-7","image-8"],arrayShuffle:function(e){for(var t,n,i=e.length;i;)n=Math.floor(Math.random()*i--),t=e[i],e[i]=e[n],e[n]=t}},octopus={init:function(){model.currentCat=model.cats[0],model.arrayShuffle(model.catNames),model.arrayShuffle(model.catImgs);for(var e=0;e<model.cats.length;e++)model.cats[e].name=model.catNames[e],model.cats[e].imgSrc=model.catImgs[e];catListView.init(),catView.init(),adminView.init()},getCurrentCat:function(){return model.currentCat},getCats:function(){return model.cats},setCurrentCat:function(e){model.currentCat=e},incrementCounter:function(){model.currentCat.clickCntr++,catView.render()},setCatCounter:function(e,t){e.clickCntr=t},getImageList:function(){return model.catImgs}},catView={init:function(){this.catElem=document.getElementById("cat"),this.catNameElem=document.getElementById("cat-name"),this.catImageElem=document.getElementById("cat-img"),this.countElem=document.getElementById("cat-count"),this.catImageElem.addEventListener("click",function(){octopus.incrementCounter()}),this.render()},render:function(){var e=octopus.getCurrentCat();this.countElem.textContent=e.clickCntr,this.catNameElem.textContent=e.name,this.catImageElem.src="/images/"+e.imgSrc+".jpg"}},catListView={init:function(){this.catListElem=document.getElementById("menu"),this.render()},render:function(){var e,t,n,i,m=octopus.getCats();this.catListElem.innerHTML="";var a=document.createElement("h2");a.id="menu-title",a.innerHTML="MENU",this.catListElem.appendChild(a);var o=document.createElement("div");for(o.id="menu-container",i=0;i<m.length;i++)e=m[i],t=document.createElement("div"),t.className="menu-item",n=document.createElement("img"),n.className="menu-item-image",n.setAttribute("src","/images/"+e.imgSrc+".jpg"),n.setAttribute("alt","Menu Item Image "+i+", Hong Kong Web developer"),t.appendChild(n),t.addEventListener("click",function(e){return function(){octopus.setCurrentCat(e),catView.render()}}(e)),this.catListElem.appendChild(t)}},adminView={init:function(){this.adminElem=document.getElementById("settings"),this.adminBtn=document.getElementById("admin-btn"),this.newName=document.getElementById("newCatName"),this.newImg=document.getElementById("newImgSrc"),this.availImgList=document.getElementById("imgsAvail"),this.newCount=document.getElementById("newCatCount"),this.cancelBtn=document.getElementById("Cancel"),this.confirmBtn=document.getElementById("Confirm"),this.render()},render:function(){this.adminElem.addEventListener("click",function(e){this.setAttribute("style","transition: all 0.5s linear;");var t=e.target,n=octopus.getCurrentCat(),i=octopus.getImageList(),m=!1;if(t!=adminView.adminBtn&&t!=adminView.cancelBtn&&t!=adminView.confirmBtn||adminView.showForm(),t==adminView.confirmBtn){adminView.newImg.value=adminView.newImg.value.toLowerCase();for(var a=0;a<i.length;a++)i[a]==adminView.newImg.value&&(m=!0);1==m?n.imgSrc=adminView.newImg.value:(alert("Please make sure to use an image that is available!"),adminView.showForm()),isNaN(adminView.newCount.value)?(alert("Please make sure to use a number for the click counter!"),adminView.showForm()):n.clickCntr=adminView.newCount.value,""!=adminView.newName.value?n.name=adminView.newName.value:(alert("Please make sure to use a Name for your cat!"),adminView.showForm()),catView.render()}else t==adminView.adminBtn&&adminView.adminElem.classList.contains("open")&&adminView.popForm(n,i)})},popForm:function(e,t){this.newImg.value=e.imgSrc,this.newName.value=e.name,this.newCount.value=e.clickCntr;for(var n="",i=0;i<t.length;i++)i==t.length-1?n+=t[i]:n=n+t[i]+", ";this.availImgList.innerHTML=n},showForm:function(){this.adminElem.classList.toggle("open")}};octopus.init();